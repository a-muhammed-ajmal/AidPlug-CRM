import{c as M,a as U,p as q,d as L,q as F,t as O,r as n,j as e,X as v}from"./index-NvUe1ZN8.js";import{u as _}from"./userService-B1WNrPKI.js";import{u as R}from"./useSalesCycle-CkNI5cGx.js";import{S as b}from"./SkeletonLoader-DxXA5r8T.js";import{C as u}from"./chevron-right-BENPDSPP.js";import{M as W}from"./mail-BRfvtj-5.js";import{S as z}from"./shield-CPbDd_v1.js";import{I as f}from"./info-DOZ6-6U3.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=M("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=M("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);function Y(){const{user:s}=U(),t=q(),{addNotification:c}=L(),h=["userPreferences",s==null?void 0:s.id],{data:a,isLoading:p,error:g}=F({queryKey:h,queryFn:()=>_.getPreferences(s.id),enabled:!!s}),d=O({mutationFn:r=>_.updatePreferences(s.id,r),onSuccess:r=>{t.setQueryData(h,r),c("Settings Updated","Your preferences have been saved successfully.")},onError:r=>{c("Update Failed",r.message||"Could not save your preferences.")}});return{preferences:a,isLoading:p,error:g,updatePreferences:d}}const G=({enabled:s,onChange:t})=>e.jsx("button",{onClick:t,className:`w-12 h-6 rounded-full relative transition-colors ${s?"bg-blue-600":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full absolute top-0.5 transition-transform ${s?"transform translate-x-6":"transform translate-x-0.5"}`})}),l=({icon:s,label:t,children:c})=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-medium text-gray-700",children:t})]}),c]}),V=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl shadow-xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Help Center"}),e.jsx("button",{onClick:s,className:"p-2 -mr-2 rounded-full hover:bg-gray-100",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Getting Started"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Adding Leads:"}),' Go to Leads page and click "Add Lead" button']}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Managing Clients:"})," Use the Clients page to view and edit client information"]}),e.jsxs("p",{children:["• ",e.jsx("strong",{children:"Deal Pipeline:"})," Track your sales deals in the Deals section"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-3 text-sm text-gray-600",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"How do I backup my data?"}),e.jsx("p",{children:"Your data is automatically synced to our secure servers."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Can I export my leads?"}),e.jsx("p",{children:"Data export functionality is coming in a future update."})]})]})]})]})]})}),$=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl shadow-xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Privacy Policy"}),e.jsx("button",{onClick:s,className:"p-2 -mr-2 rounded-full hover:bg-gray-100",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Effective Date:"})," October 2024"]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Information We Collect"}),e.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, use our services, or contact us for support."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"How We Use Your Information"}),e.jsx("p",{children:"We use the information we collect to provide, maintain, and improve our services, process transactions, and communicate with you."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Data Security"}),e.jsx("p",{children:"We implement appropriate security measures to protect your personal information against unauthorized access, alteration, disclosure, or destruction."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Contact Us"}),e.jsx("p",{children:"If you have questions about this Privacy Policy, please contact us at privacy@aidplug.com"})]})]})}),K=({onClose:s})=>e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center p-4",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-xl shadow-xl max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Terms of Service"}),e.jsx("button",{onClick:s,className:"p-2 -mr-2 rounded-full hover:bg-gray-100",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4 text-sm text-gray-600",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Effective Date:"})," October 2024"]}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Acceptance of Terms"}),e.jsx("p",{children:"By accessing and using AidPlug CRM, you accept and agree to be bound by the terms and provision of this agreement."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Use License"}),e.jsx("p",{children:"Permission is granted to temporarily use AidPlug CRM for personal and business use, subject to restrictions stated in these terms."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Disclaimer"}),e.jsx("p",{children:"The materials on AidPlug CRM are provided on an 'as is' basis. AidPlug makes no warranties, expressed or implied, and hereby disclaims all other warranties."}),e.jsx("h3",{className:"font-semibold text-lg text-gray-900 mt-4",children:"Limitations"}),e.jsx("p",{children:"In no event shall AidPlug be liable for any damages arising out of the use or inability to use AidPlug CRM."})]})]})});function le(){const{setTitle:s}=L();n.useEffect(()=>{s("Settings")},[s]);const{preferences:t,updatePreferences:c,isLoading:h}=Y(),{salesCycle:a,updateSalesCycle:p,isLoading:g}=R(),[d,r]=n.useState({start_date:"",end_date:""}),[y,N]=n.useState(null),[w,j]=n.useState("idle"),[A,C]=n.useState(!1),[E,S]=n.useState(!1),[I,P]=n.useState(!1);n.useEffect(()=>{r(a?{start_date:a.start_date||"",end_date:a.end_date||""}:{start_date:"",end_date:""})},[a]);const T=o=>{if(t){const i=!t[o];c.mutate({[o]:i}),i?(j("syncing"),setTimeout(()=>j("synced"),2e3)):j("idle")}},D=o=>{const{name:i,value:m}=o.target,x={...d,[i]:m};if(r(x),x.start_date&&x.end_date){const H=new Date(x.start_date);new Date(x.end_date)<H?N("End date cannot be earlier than the start date."):N(null)}},k=o=>{if(!y){const{name:i,value:m}=o.target;m&&(a==null?void 0:a[i])!==m&&p.mutate({[i]:m})}};return h||g?e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{className:"h-24 rounded-xl"}),e.jsx(b,{className:"h-40 rounded-xl"}),e.jsx(b,{className:"h-40 rounded-xl"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Preferences"})}),e.jsx("div",{className:"p-4 space-y-4",children:e.jsx(l,{icon:Q,label:"Mobile Sync",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-sm text-gray-500 w-20 text-right",children:t!=null&&t.mobile_sync?w==="syncing"?"Syncing...":w==="synced"?"Synced":"Enabled":"Disabled"}),e.jsx(G,{enabled:(t==null?void 0:t.mobile_sync)??!0,onChange:()=>T("mobile_sync")})]})})})]}),e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Sales Cycle"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"startDate",className:"text-gray-600 font-medium text-sm",children:"Start Date"}),e.jsx("input",{type:"date",id:"startDate",value:d.start_date,onChange:D,onBlur:k,className:"p-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{htmlFor:"endDate",className:"text-gray-600 font-medium text-sm",children:"End Date"}),e.jsx("input",{type:"date",id:"endDate",value:d.end_date,onChange:D,onBlur:k,className:"p-2 border border-gray-300 rounded-lg text-sm focus:ring-blue-500 focus:border-blue-500"})]}),y&&e.jsx("p",{className:"text-sm text-red-600 mt-2",children:y})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"Support & Help"})}),e.jsxs("div",{className:"p-2",children:[e.jsx("button",{onClick:()=>C(!0),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(l,{icon:B,label:"Help Center",children:e.jsx(u,{className:"w-4 h-4 text-gray-400"})})}),e.jsx("button",{onClick:()=>window.location.href="mailto:support@aidplug.com",className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(l,{icon:W,label:"Contact Support",children:e.jsx(u,{className:"w-4 h-4 text-gray-400"})})}),e.jsx("button",{onClick:()=>S(!0),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(l,{icon:z,label:"Privacy Policy",children:e.jsx(u,{className:"w-4 h-4 text-gray-400"})})}),e.jsx("button",{onClick:()=>P(!0),className:"w-full text-left p-3 hover:bg-gray-50 rounded-lg transition-colors",children:e.jsx(l,{icon:f,label:"Terms of Service",children:e.jsx(u,{className:"w-4 h-4 text-gray-400"})})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h3",{className:"font-semibold text-gray-900",children:"App Information"})}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsx(l,{icon:f,label:"Version",children:e.jsx("span",{className:"font-medium text-gray-800 text-sm",children:"1.0.0"})}),e.jsx(l,{icon:f,label:"Last Updated",children:e.jsx("span",{className:"font-medium text-gray-800 text-sm",children:"Oct 01, 2024"})}),e.jsx(l,{icon:f,label:"Data Sync",children:e.jsxs("span",{className:"font-medium text-green-600 flex items-center text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),"Connected"]})})]})]}),A&&e.jsx(V,{onClose:()=>C(!1)}),E&&e.jsx($,{onClose:()=>S(!1)}),I&&e.jsx(K,{onClose:()=>P(!1)})]})}export{le as default};
