import{s as t}from"./index-NvUe1ZN8.js";const i={getProfile:async r=>{const{data:s,error:e}=await t.from("user_profiles").select("*").eq("id",r).single();if(e)throw e;return s},updateProfile:async(r,s)=>{console.log("userService.updateProfile called with:",{userId:r,updates:s});const{data:e,error:o}=await t.from("user_profiles").update(s).eq("id",r).select().single();if(o)throw console.error("Supabase update error:",o),o;return console.log("Supabase update successful:",e),e},getPreferences:async r=>{const{data:s,error:e}=await t.from("user_preferences").select("*").eq("user_id",r).single();if(e&&e.code!=="PGRST116")throw e;return s||{user_id:r,push_notifications:!0,email_notifications:!1,mobile_sync:!0}},updatePreferences:async(r,s)=>{const{data:e,error:o}=await t.from("user_preferences").upsert({...s,user_id:r},{onConflict:"user_id"}).select().single();if(o)throw o;return e}};export{i as u};
