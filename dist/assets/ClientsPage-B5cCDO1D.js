import{d as U,R as K,j as e,U as G,D as R,h as z,a as X,e as W,r as b,X as q,G as J,q as Q,m as Z,t as D,n as ee,u as se,S as E,i as Y,C as re,v as le,B as ae}from"./index-XESJNA6v.js";import{D as H,a as L,P as O,E as oe}from"./DropdownMenu-QKL23TpE.js";import{T as V}from"./trash-2-BWGgcqO4.js";import{P as M,S as ne}from"./search-rnktevF7.js";import{M as I}from"./mail-DiIPLIFk.js";import{C as te}from"./chevron-down-Cc4qbPYb.js";import{E as de}from"./EmptyState-BRjS5MyD.js";import{P as ce}from"./plus-Dfe9gStt.js";import{C as B}from"./calendar-BI42gCrQ.js";import{H as F,T as $}from"./trending-up-CWBaCTmm.js";import{M as me}from"./map-pin-W7mQtlfA.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=U("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),xe=()=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{d:"M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.586-1.456l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.886-.001 2.269.654 4.495 1.932 6.22l-1.023 3.744 3.845-1.004zm-3.837 1.387l.494.296c1.695 1.011 3.58 1.574 5.63 1.576 6.245 0 11.33-5.084 11.332-11.33.001-6.247-5.085-11.332-11.334-11.332-6.245 0-11.331 5.085-11.333 11.331.001 2.431.792 4.78 2.215 6.64l.43.586-1.24 4.545 4.66-1.219z"})}),he=K.memo(({client:r,onClick:s,onEdit:c,onDelete:u})=>{var g;const m=(l,y)=>{l.stopPropagation(),y()},i=()=>{r.phone&&(window.location.href=`tel:${r.phone}`)},h=()=>{r.email&&(window.location.href=`mailto:${r.email}`)},d=()=>{if(r.whatsapp_number){const l=r.whatsapp_number.replace(/[^0-9]/g,"");window.open(`https://wa.me/${l}`,"_blank")}};return e.jsxs("div",{onClick:()=>s(r),className:"bg-white border border-gray-200 rounded-xl hover:shadow-md transition-all duration-200 active:scale-98 cursor-pointer",children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1 min-w-0",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:r.photo_url?e.jsx("img",{src:r.photo_url,alt:r.full_name,className:"w-full h-full object-cover"}):e.jsx(G,{className:"w-6 h-6 text-gray-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-gray-900 text-base truncate",title:r.full_name,children:r.full_name}),e.jsxs("p",{className:"text-sm text-gray-600 truncate",title:`${r.designation} at ${r.company_name}`,children:[r.designation," at ",r.company_name]}),e.jsxs("div",{className:"text-sm text-gray-700 mt-1 flex items-center",children:[e.jsx(R,{className:"w-3.5 h-3.5 mr-1 text-gray-400"}),e.jsxs("span",{className:"font-medium",children:["AED ",((g=r.monthly_salary)==null?void 0:g.toLocaleString())||"N/A"]})]})]})]}),e.jsx(H,{trigger:e.jsx(oe,{className:"w-4 h-4 text-gray-500"}),children:e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:l=>m(l,()=>c(r)),icon:e.jsx(O,{className:"w-4 h-4 mr-2"}),children:"Edit"}),e.jsx(L,{onClick:l=>m(l,()=>u(r.id)),icon:e.jsx(V,{className:"w-4 h-4 mr-2"}),className:"text-red-600",children:"Delete"})]})})]})}),e.jsx("div",{className:"border-t border-gray-100 px-2 py-2",children:e.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[e.jsxs("button",{onClick:l=>m(l,i),disabled:!r.phone,className:"flex items-center justify-center py-2 px-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(M,{className:"w-3.5 h-3.5 mr-1.5"})," Call"]}),e.jsxs("button",{onClick:l=>m(l,d),disabled:!r.whatsapp_number,className:"flex items-center justify-center py-2 px-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(xe,{})," ",e.jsx("span",{className:"ml-1.5",children:"WhatsApp"})]}),e.jsxs("button",{onClick:l=>m(l,h),disabled:!r.email,className:"flex items-center justify-center py-2 px-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-xs font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(I,{className:"w-3.5 h-3.5 mr-1.5"})," Email"]})]})})]})}),T=({title:r,children:s})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:col-span-2 mt-4 first:mt-0",children:e.jsx("h3",{className:"text-base font-semibold text-gray-800 border-b pb-2",children:r})}),s]}),n=({label:r,children:s,required:c})=>e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center text-sm font-medium text-gray-700 mb-2",children:[r,c&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),s]}),k=({id:r,name:s,value:c,onChange:u,options:m,required:i,placeholder:h})=>e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:r,name:s,value:c,onChange:u,required:i,className:"w-full appearance-none bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-3 pr-10",children:[e.jsx("option",{value:"",disabled:!0,children:h||"Select..."}),m.map(d=>e.jsx("option",{value:d,children:d},d))]}),e.jsx(te,{className:"w-4 h-4 text-gray-400 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"})]});function be({onClose:r,initialData:s}){var _,f,C;const{createClient:c,updateClient:u}=z(),{user:m}=X(),{addNotification:i}=W(),[h,d]=b.useState(!1),g=s?"edit":"add",[l,y]=b.useState({full_name:(s==null?void 0:s.full_name)||"",dob:s!=null&&s.dob?s.dob.split("T")[0]:"",gender:(s==null?void 0:s.gender)||"",nationality:(s==null?void 0:s.nationality)||"",passport:(s==null?void 0:s.passport)||"",emirates_id:(s==null?void 0:s.emirates_id)||"",phone:((_=s==null?void 0:s.phone)==null?void 0:_.replace("+971","").trim())||"",email:(s==null?void 0:s.email)||"",whatsapp_number:(s==null?void 0:s.whatsapp_number)||"",emirate:(s==null?void 0:s.emirate)||"",employment_status:(s==null?void 0:s.employment_status)||"",company_name:(s==null?void 0:s.company_name)||"",company_website:(s==null?void 0:s.company_website)||"",company_landline:(s==null?void 0:s.company_landline)||"",official_email:(s==null?void 0:s.official_email)||"",designation:(s==null?void 0:s.designation)||"",monthly_salary:((f=s==null?void 0:s.monthly_salary)==null?void 0:f.toString())||"",salary_transferred_to:(s==null?void 0:s.salary_transferred_to)||"",aecb_score:((C=s==null?void 0:s.aecb_score)==null?void 0:C.toString())||""}),a=x=>{const{name:j,value:p}=x.target;y(S=>({...S,[j]:p}))},v=async x=>{if(x.preventDefault(),!m){i("Authentication Error","You must be logged in.");return}d(!0);const j={...l,phone:l.phone?`+971 ${l.phone}`:null,monthly_salary:parseInt(l.monthly_salary,10)||null,aecb_score:parseInt(l.aecb_score,10)||null,dob:l.dob||null,user_id:m.id};g==="add"?c.mutate(j,{onSuccess:()=>{i("Client Created",`${l.full_name} has been saved.`),r()},onError:p=>{i("Error",p.message),d(!1)}}):u.mutate({id:s.id,updates:j},{onSuccess:()=>{i("Client Updated",`${l.full_name} has been saved.`),r()},onError:p=>{i("Error",p.message),d(!1)}})};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-end animate-fade-in sm:items-center",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-t-2xl sm:rounded-2xl shadow-xl transform transition-transform animate-slide-up flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"flex items-center justify-between p-4 border-b border-gray-200 flex-shrink-0",children:[e.jsx("h1",{className:"text-lg font-bold text-gray-900",children:g==="add"?"Add New Client":"Edit Client"}),e.jsx("button",{onClick:r,className:"p-2 -mr-2 rounded-full hover:bg-gray-100",children:e.jsx(q,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("form",{onSubmit:v,className:"flex-1 flex flex-col min-h-0",children:[e.jsx("main",{className:"flex-1 p-6 overflow-y-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-5",children:[e.jsx(T,{title:"Personal Details",children:e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Full Name",required:!0,children:e.jsx("input",{type:"text",name:"full_name",value:l.full_name,onChange:a,required:!0,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Date of Birth",children:e.jsx("input",{type:"date",name:"dob",value:l.dob,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Gender",children:e.jsx(k,{id:"gender",name:"gender",value:l.gender,onChange:a,options:J})}),e.jsx(n,{label:"Nationality",children:e.jsxs(e.Fragment,{children:[e.jsx("input",{list:"countries",name:"nationality",value:l.nationality,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"}),e.jsx("datalist",{id:"countries",children:Q.map(x=>e.jsx("option",{value:x},x))})]})}),e.jsx(n,{label:"Passport Number",children:e.jsx("input",{type:"text",name:"passport",value:l.passport,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Emirates ID",children:e.jsx("input",{type:"text",name:"emirates_id",value:l.emirates_id,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})})]})}),e.jsx(T,{title:"Contact Information",children:e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Mobile Number",children:e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"inline-flex items-center px-3 text-sm text-gray-900 bg-gray-50 border border-r-0 border-gray-300 rounded-l-lg",children:"+971"}),e.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-r-lg focus:ring-blue-500 focus:border-blue-500 p-3",placeholder:"50 123 4567"})]})}),e.jsx(n,{label:"WhatsApp Number",children:e.jsx("input",{type:"text",name:"whatsapp_number",value:l.whatsapp_number,onChange:a,placeholder:"+9715...",className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Email Address",children:e.jsx("input",{type:"email",name:"email",value:l.email,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Location",children:e.jsx(k,{id:"emirate",name:"emirate",value:l.emirate,onChange:a,options:Z})})]})}),e.jsx(T,{title:"Employment & Financial Details",children:e.jsxs(e.Fragment,{children:[e.jsx(n,{label:"Employment Status",children:e.jsx(k,{id:"employment_status",name:"employment_status",value:l.employment_status,onChange:a,options:D})}),e.jsx(n,{label:"Company Name",children:e.jsx("input",{type:"text",name:"company_name",value:l.company_name,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Website",children:e.jsx("input",{type:"url",name:"company_website",value:l.company_website,onChange:a,placeholder:"https://example.com",className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Landline Number",children:e.jsx("input",{type:"tel",name:"company_landline",value:l.company_landline,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Work Email Address",children:e.jsx("input",{type:"email",name:"official_email",value:l.official_email,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Designation",children:e.jsx("input",{type:"text",name:"designation",value:l.designation,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Monthly Salary (AED)",children:e.jsx("input",{type:"number",name:"monthly_salary",value:l.monthly_salary,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})}),e.jsx(n,{label:"Salary Transferred To",children:e.jsx(k,{id:"salary_transferred_to",name:"salary_transferred_to",value:l.salary_transferred_to,onChange:a,options:ee,placeholder:"Select Bank..."})}),e.jsx(n,{label:"AECB Score",children:e.jsx("input",{type:"number",name:"aecb_score",value:l.aecb_score,onChange:a,className:"w-full bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 p-3"})})]})})]})}),e.jsx("footer",{className:"p-4 border-t border-gray-200 bg-white flex-shrink-0",children:e.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-all active:scale-95 shadow disabled:opacity-50",children:h?"Saving...":g==="add"?"Save Client":"Update Client"})})]})]})})}const A=({title:r,children:s})=>e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800 border-b pb-2 mb-4",children:r}),e.jsx("div",{className:"space-y-4",children:s})]}),t=({label:r,value:s,icon:c})=>e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs font-medium text-gray-500 flex items-center",children:[c&&e.jsx(c,{className:"w-3.5 h-3.5 mr-1.5 text-gray-400"}),r]}),e.jsx("p",{className:"mt-1 text-sm text-gray-900 break-words",children:s||"N/A"})]}),ge=({client:r,onClose:s,onEdit:c,onDelete:u})=>{var m;return r?e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-end animate-fade-in sm:items-center",children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-t-2xl sm:rounded-2xl shadow-xl transform transition-transform animate-slide-up flex flex-col max-h-[90vh]",children:[e.jsxs("header",{className:"flex items-start justify-between p-4 border-b",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center overflow-hidden flex-shrink-0",children:r.photo_url?e.jsx("img",{src:r.photo_url,alt:r.full_name,className:"w-full h-full object-cover"}):e.jsx(G,{className:"w-8 h-8 text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:r.full_name}),e.jsx("p",{className:"text-sm text-gray-600",children:r.designation||"N/A"})]})]}),e.jsx("button",{onClick:s,className:"p-2 -mr-2 rounded-full hover:bg-gray-100",children:e.jsx(q,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"p-3 flex space-x-2 border-b",children:[e.jsxs("button",{disabled:!r.phone,onClick:()=>{r.phone&&(window.location.href=`tel:${r.phone}`)},className:"flex-1 flex items-center justify-center py-2 px-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-sm font-semibold disabled:opacity-50",children:[e.jsx(M,{className:"w-4 h-4 mr-2"})," Call"]}),e.jsxs("button",{disabled:!r.email,onClick:()=>{r.email&&(window.location.href=`mailto:${r.email}`)},className:"flex-1 flex items-center justify-center py-2 px-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors text-sm font-semibold disabled:opacity-50",children:[e.jsx(I,{className:"w-4 h-4 mr-2"})," Email"]}),e.jsx(H,{trigger:e.jsx("button",{className:"p-2 rounded-lg border hover:bg-gray-100",children:"..."}),children:e.jsxs(e.Fragment,{children:[e.jsx(L,{onClick:()=>c(r),icon:e.jsx(O,{className:"w-4 h-4 mr-2"}),children:"Edit"}),e.jsx(L,{onClick:()=>u(r.id),icon:e.jsx(V,{className:"w-4 h-4 mr-2"}),className:"text-red-600",children:"Delete"})]})})]}),e.jsxs("main",{className:"p-4 overflow-y-auto space-y-4",children:[e.jsx(A,{title:"Personal & Contact Details",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[e.jsx(t,{label:"Mobile Number",value:r.phone,icon:M}),e.jsx(t,{label:"WhatsApp Number",value:r.whatsapp_number,icon:M}),e.jsx(t,{label:"Email Address",value:r.email,icon:I}),e.jsx(t,{label:"Date of Birth",value:r.dob?new Date(r.dob).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):null,icon:B}),e.jsx(t,{label:"Gender",value:r.gender,icon:Y}),e.jsx(t,{label:"Nationality",value:r.nationality,icon:ue})]})}),e.jsx(A,{title:"Identification & Residency",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[e.jsx(t,{label:"Emirates ID",value:r.emirates_id,icon:F}),e.jsx(t,{label:"Passport",value:r.passport,icon:F}),e.jsx(t,{label:"Emirate",value:r.emirate,icon:me}),e.jsx(t,{label:"Visa Status",value:r.visa_status,icon:re})]})}),e.jsx(A,{title:"Employment Details",children:e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:[e.jsx(t,{label:"Employment Status",value:r.employment_status,icon:$}),e.jsx(t,{label:"Company",value:r.company_name,icon:le}),e.jsx(t,{label:"Designation",value:r.designation,icon:ae}),e.jsx(t,{label:"Monthly Salary (AED)",value:((m=r.monthly_salary)==null?void 0:m.toLocaleString())||null,icon:R}),e.jsx(t,{label:"Salary Transferred to",value:r.salary_transferred_to,icon:ie}),e.jsx(t,{label:"Client Since",value:r.client_since?new Date(r.client_since).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):null,icon:B})]})}),e.jsx(A,{title:"Financial & Risk Details",children:e.jsx("div",{className:"grid grid-cols-2 gap-x-4 gap-y-3",children:e.jsx(t,{label:"AECB Score",value:r.aecb_score,icon:$})})})]})]})}):null};function ke(){const{showConfirmation:r,addNotification:s,setTitle:c}=W();b.useEffect(()=>{c("Clients")},[c]);const{clients:u,isLoading:m,deleteClient:i}=z(),h=se(),[d,g]=b.useState(""),[l,y]=b.useState(null),[a,v]=b.useState(null),[_,f]=b.useState(!1);b.useEffect(()=>{var o;(o=h.state)!=null&&o.showAddModal&&(f(!0),window.history.replaceState({},document.title))},[h.state]);const C=b.useMemo(()=>u.filter(o=>{var w,N,P;return o.full_name.toLowerCase().includes(d.toLowerCase())||((w=o.company_name)==null?void 0:w.toLowerCase().includes(d.toLowerCase()))||((N=o.phone)==null?void 0:N.includes(d))||((P=o.email)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))}),[u,d]),x=()=>{y(null),v(null),f(!1)},j=o=>{y(o)},p=o=>{y(null),v(o),f(!0)},S=o=>{const w=u.find(N=>N.id===o);w&&r("Delete Client?",`Are you sure you want to permanently delete ${w.full_name}? This action cannot be undone.`,()=>{i.mutate(o,{onSuccess:()=>{s("Client Deleted",`${w.full_name} has been removed.`),x()},onError:N=>s("Error",N.message)})})};return m?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:e.jsx(E,{className:"h-10 w-full"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(E,{className:"h-32 rounded-xl"}),e.jsx(E,{className:"h-32 rounded-xl"}),e.jsx(E,{className:"h-32 rounded-xl"})]})]}):e.jsxs("div",{className:"relative pb-20",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-xl border shadow-sm",children:e.jsxs("div",{className:"relative",children:[e.jsx(ne,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search clients by name, company...",value:d,onChange:o=>g(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all"})]})}),e.jsx("div",{className:"space-y-4",children:C.length>0?C.map(o=>e.jsx(he,{client:o,onClick:j,onEdit:p,onDelete:S},o.id)):e.jsx(de,{icon:e.jsx(Y,{className:"w-12 h-12 text-gray-300"}),title:"No Clients Found",message:"Your client list is empty. Add a new client to get started."})})]}),e.jsx("button",{onClick:()=>{v(null),f(!0)},className:"fixed bottom-20 right-5 z-30 w-14 h-14 bg-blue-600 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-blue-700 transition-all active:scale-90","aria-label":"Add new client",children:e.jsx(ce,{className:"w-7 h-7"})}),l&&e.jsx(ge,{client:l,onClose:x,onEdit:p,onDelete:S}),(_||a)&&e.jsx(be,{onClose:x,initialData:a})]})}export{ke as default};
